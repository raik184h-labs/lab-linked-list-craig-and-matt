<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session de93a141-4621-453d-b53b-e6d344b2a1f8 (2026-01-22 13:02-0600) -->

# MyLinkedList.java issue (2026-01-22 13:02-0600)

_**User (2026-01-22 13:02-0600)**_

why is this not working right?
@MyLinkedList.java (86-97) 

---

_**Agent (model default, mode Agent)**_



---


Reviewing the full file and tests to understand the issue.


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/craigwhitney/Desktop/RAIK184H/lab-linked-list-craig-and-matt/src/edu/unl/raikes/linkedlistlab/MyLinkedList.java</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/craigwhitney/Desktop/RAIK184H/lab-linked-list-craig-and-matt/src/edu/unl/raikes/linkedlistlab/MyLinkedListTest.java</summary>

</details>
</tool-use>

---



---


Identifying issues in `add(int index, E element)`:


---

<tool-use data-tool-type="shell" data-tool-name="run_terminal_cmd">
<details><summary>Tool use: **run_terminal_cmd** • Run command: cd /Users/craigwhitney/Desktop/RAIK184H/lab-linked-list-craig-and-matt && javac -cp "lib/*:." -d bin src/edu/unl/raikes/linkedlistlab/*.java 2>&1 | head -20</summary>

```bash
cd /Users/craigwhitney/Desktop/RAIK184H/lab-linked-list-craig-and-matt && javac -cp "lib/*:." -d bin src/edu/unl/raikes/linkedlistlab/*.java 2>&1 | head -20
```

```
src/edu/unl/raikes/linkedlistlab/MyLinkedList.java:68: warning: [removal] Integer(int) in Integer has been deprecated and marked for removal
        mll.remove(new Integer(2));
                   ^
src/edu/unl/raikes/linkedlistlab/MyLinkedListTest.java:59: warning: [removal] Integer(int) in Integer has been deprecated and marked for removal
		assertThat(mll.get(18), is(new Integer(19)));
		                           ^
src/edu/unl/raikes/linkedlistlab/MyLinkedListTest.java:69: warning: [removal] Integer(int) in Integer has been deprecated and marked for removal
        assertThat(mll.get(1), is(new Integer(5)));
                                  ^
src/edu/unl/raikes/linkedlistlab/MyLinkedListTest.java:88: warning: [removal] Integer(int) in Integer has been deprecated and marked for removal
        assertThat(mll.get(5), is(new Integer(7)));
                                  ^
src/edu/unl/raikes/linkedlistlab/MyLinkedListTest.java:100: warning: [removal] Integer(int) in Integer has been deprecated and marked for removal
		assertThat(mll.get(5), is(new Integer(3)));
		                          ^
src/edu/unl/raikes/linkedlistlab/MyLinkedListTest.java:137: warning: [removal] Integer(int) in Integer has been deprecated and marked for removal
		assertThat(mll.get(1), is(new Integer(2)));
		                          ^
src/edu/unl/raikes/linkedlistlab/MyLinkedListTest.java:177: warning: [removal] Integer(int) in Integer has been deprecated and marked for removal
		assertThat(iter.next(), is(new Integer(1)));

```
</details>
</tool-use>

---



---


Running the test to see what fails:


---

<tool-use data-tool-type="shell" data-tool-name="run_terminal_cmd">
<details><summary>Tool use: **run_terminal_cmd** • Run command: cd /Users/craigwhitney/Desktop/RAIK184H/lab-linked-list-craig-and-matt && java -cp "lib/*:bin" org.junit.runner.JUnitCore edu.unl.raikes.linkedlistlab.MyLinkedListTest 2>&1 | grep -A 20 "testAddIntT"</summary>

```bash
cd /Users/craigwhitney/Desktop/RAIK184H/lab-linked-list-craig-and-matt && java -cp "lib/*:bin" org.junit.runner.JUnitCore edu.unl.raikes.linkedlistlab.MyLinkedListTest 2>&1 | grep -A 20 "testAddIntT"
```

```
1) testAddIntT(edu.unl.raikes.linkedlistlab.MyLinkedListTest)
java.lang.AssertionError: 
Expected: is &lt;4&gt;
     but: was &lt;3&gt;
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.junit.Assert.assertThat(Assert.java:964)
	at org.junit.Assert.assertThat(Assert.java:930)
	at edu.unl.raikes.linkedlistlab.MyLinkedListTest.testAddIntT(MyLinkedListTest.java:70)
2) testRemoveObject(edu.unl.raikes.linkedlistlab.MyLinkedListTest)
java.lang.AssertionError: 
Expected: &lt;true&gt;
     but: was &lt;false&gt;
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.junit.Assert.assertThat(Assert.java:964)
	at org.junit.Assert.assertThat(Assert.java:930)
	at edu.unl.raikes.linkedlistlab.MyLinkedListTest.testRemoveObject(MyLinkedListTest.java:198)
3) testRemoveAll(edu.unl.raikes.linkedlistlab.MyLinkedListTest)
java.lang.AssertionError: 
Expected: is &lt;0&gt;
     but: was &lt;3&gt;
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at org.junit.Assert.assertThat(Assert.java:964)
	at org.junit.Assert.assertThat(Assert.java:930)
	at edu.unl.raikes.linkedlistlab.MyLinkedListTest.testRemoveAll(MyLinkedListTest.java:238)
4) testRemoveInt(edu.unl.raikes.linkedlistlab.MyLinkedListTest)
java.lang.AssertionError: 
Expected: is &lt;2&gt;
     but: was null

```
</details>
</tool-use>

---



---


The test fails because the size is 3 instead of 4 after adding an element. This suggests `size` isn’t being updated.

Analyzing the logic:

```86:97:src/edu/unl/raikes/linkedlistlab/MyLinkedList.java
@Override
public void add(int index, E element) {
    Node node = this.head;
    for (int i = 0; i < index - 1; i++) {
        node = node.next;
    }
    Node nextNode = node.next;
    Node e = new Node(element, nextNode);
    node.next = e;


}
```

Issues to consider:
1. Size: The `size` field isn’t incremented.
2. Index 0: When `index = 0`, the loop condition `i < index - 1` becomes `i < -1`, so the loop doesn’t run. Then `node` is still `head`, and the code inserts after head. But inserting at index 0 should make the new node the new head.
3. Bounds checking: There’s no validation that `index` is in range (0 ≤ index ≤ size).
4. Empty list: If the list is empty (`head == null`) and `index == 0`, `node` is null, and accessing `node.next` would throw a NullPointerException.

Try this:
1. Trace what happens when `index = 0` with a list like `[1, 2, 3]`. Where should the new node go?
2. Compare with `add(E element)` — it updates `size`. Should `add(int index, E element)` do the same?
3. Consider edge cases: inserting at the beginning (index 0), at the end (index == size), and into an empty list.

What do you think needs to change?

---

